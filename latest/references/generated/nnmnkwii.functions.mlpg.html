

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>nnmnkwii.functions.mlpg &mdash; nnmnkwii 0.0.3.dev0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="nnmnkwii 0.0.3.dev0 documentation" href="../../index.html"/>
        <link rel="up" title="Functions" href="../functions.html"/>
        <link rel="next" title="nnmnkwii.functions.mlpg_grad" href="nnmnkwii.functions.mlpg_grad.html"/>
        <link rel="prev" title="nnmnkwii.functions.build_win_mats" href="nnmnkwii.functions.build_win_mats.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.0.3.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../design.html">General design documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../design.html#the-underlying-design-philosophy">The underlying design philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design.html#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design.html#so-what-do-we-provide">So what do we provide?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design.html#design-decisions">Design decisions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design.html#development-guidelines">Development guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../design_jp.html">設計ドキュメント (Japanese)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../design_jp.html#the-underlying-design-philosophy">The underlying design philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_jp.html#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_jp.html#goal">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_jp.html#so-what-do-we-provide">So what do we provide?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_jp.html#design-decisions">Design decisions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_jp.html#development-guidelines">Development guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html">A quick start guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Playing-with-audio-and-it's-alignment-file">Playing with audio and it’s alignment file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Load-wav-file">Load wav file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Acoustic-features">Acoustic features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Load-aligment-file">Load aligment file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Cut-silence-frames">Cut silence frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Linguistic-features">Linguistic features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Playing-with-datasets">Playing with datasets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Get-example-file-sources">Get example file sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Load-data">Load data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Utterance-wise-iteration">Utterance-wise iteration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Memory-cache-iteration">Memory cache iteration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/00-Quick start guide.html#Frame-wise-iteration">Frame-wise iteration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html">DNN text-to-speech synthesis (en)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Data">Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Data-specification">Data specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#File-data-sources">File data sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Utterance-lengths">Utterance lengths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#How-data-look-like?">How data look like?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Statistics">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Combine-datasets-and-normalization.">Combine datasets and normalization.</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Model">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Train">Train</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Configurations">Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Training-loop">Training loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Define-models">Define models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Training-Duration-model">Training Duration model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Training-acoustic-model">Training acoustic model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Test">Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Parameter-generation-utilities">Parameter generation utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/01-DNN-based statistical speech synthesis (en).html#Listen-generated-audio">Listen generated audio</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html">Bidirectional-LSTM based RNNs for text-to-speech synthesis (en)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Data">Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Data-specification">Data specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#File-data-sources">File data sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Utterance-lengths">Utterance lengths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#How-data-look-like?">How data look like?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Statistics">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Combine-datasets-and-normalization.">Combine datasets and normalization.</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Model">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Train">Train</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Configurations">Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Trainining-loop">Trainining loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Define-models">Define models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Training-Duration-model">Training Duration model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Training-acoustic-model">Training acoustic model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Test">Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Parameter-generation-utilities">Parameter generation utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/tts/02-Bidirectional-LSTM based RNNs for speech synthesis (en).html#Listen-generated-audio">Listen generated audio</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html">GMM-based voice conversion (en)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Data">Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Data-specification">Data specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#File-data-sources">File data sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Convert-dataset-to-arrays">Convert dataset to arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#How-data-look-like?">How data look like?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Align-source-and-target-features">Align source and target features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#How-parallel-data-look-like?">How parallel data look like?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Append-delta-features">Append delta features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Finally,-we-get-joint-feature-matrix">Finally, we get joint feature matrix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Model">Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Visualize-model">Visualize model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Means">Means</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Covariances">Covariances</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Test">Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#Listen-results">Listen results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nnmnkwii_gallery/notebooks/vc/01-GMM voice conversion (en).html#How-different?">How different?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Package references</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../autograd.html">Autograd</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../autograd.html#functional-interface">Functional interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.autograd.mlpg.html">nnmnkwii.autograd.mlpg</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.autograd.unit_variance_mlpg.html">nnmnkwii.autograd.unit_variance_mlpg</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.autograd.modspec.html">nnmnkwii.autograd.modspec</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../autograd.html#function-classes">Function classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../baseline.html">Baseline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../baseline.html#module-nnmnkwii.baseline.gmm">GMM voice conversion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../datasets.html#interface">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datasets.html#implementation">Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../datasets.html#dataset-that-supports-utterance-wise-iteration">Dataset that supports utterance-wise iteration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datasets.html#dataset-that-supports-frame-wise-iteration">Dataset that supports frame-wise iteration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../display.html">Display</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../frontend.html">Frontend</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../frontend.html#merlin-frontend">Merlin frontend</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.frontend.merlin.linguistic_features.html">nnmnkwii.frontend.merlin.linguistic_features</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.frontend.merlin.duration_features.html">nnmnkwii.frontend.merlin.duration_features</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../functions.html">Functions</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../functions.html#mlpg">MLPG</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.functions.build_win_mats.html">nnmnkwii.functions.build_win_mats</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">nnmnkwii.functions.mlpg</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.functions.mlpg_grad.html">nnmnkwii.functions.mlpg_grad</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.functions.unit_variance_mlpg_matrix.html">nnmnkwii.functions.unit_variance_mlpg_matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.functions.reshape_means.html">nnmnkwii.functions.reshape_means</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../functions.html#modulation-spectrum">Modulation spectrum</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.functions.modspec.html">nnmnkwii.functions.modspec</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.functions.modphase.html">nnmnkwii.functions.modphase</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../io.html">IO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../io.html#module-nnmnkwii.io.hts">HTS IO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.io.hts.load.html">nnmnkwii.io.hts.load</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.io.hts.load_question_set.html">nnmnkwii.io.hts.load_question_set</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metrics.html">Evaluation metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nnmnkwii.metrics.melcd.html">nnmnkwii.metrics.melcd</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../postfilters.html">Post-filters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nnmnkwii.postfilters.merlin_post_filter.html">nnmnkwii.postfilters.merlin_post_filter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessing.html">Pre-processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing.html#module-nnmnkwii.preprocessing.alignment">Alignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing.html#module-nnmnkwii.preprocessing.f0">F0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.preprocessing.f0.interp1d.html">nnmnkwii.preprocessing.f0.interp1d</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../util.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../util.html#utterance-wise-operations">Utterance-wise operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.delta.html">nnmnkwii.util.delta</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.apply_delta_windows.html">nnmnkwii.util.apply_delta_windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.trim_zeros_frames.html">nnmnkwii.util.trim_zeros_frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.remove_zeros_frames.html">nnmnkwii.util.remove_zeros_frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.adjast_frame_length.html">nnmnkwii.util.adjast_frame_length</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.scale.html">nnmnkwii.util.scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.minmax_scale.html">nnmnkwii.util.minmax_scale</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../util.html#dataset-wise-operations">Dataset-wise operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.meanvar.html">nnmnkwii.util.meanvar</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.meanstd.html">nnmnkwii.util.meanstd</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.minmax.html">nnmnkwii.util.minmax</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../util.html#files">Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.example_label_file.html">nnmnkwii.util.example_label_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.example_audio_file.html">nnmnkwii.util.example_audio_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.example_question_file.html">nnmnkwii.util.example_question_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.example_file_data_sources_for_duration_model.html">nnmnkwii.util.example_file_data_sources_for_duration_model</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.example_file_data_sources_for_acoustic_model.html">nnmnkwii.util.example_file_data_sources_for_acoustic_model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../util.html#module-nnmnkwii.util.linalg">Linear algebra</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.linalg.cholesky_inv.html">nnmnkwii.util.linalg.cholesky_inv</a></li>
<li class="toctree-l3"><a class="reference internal" href="nnmnkwii.util.linalg.cholesky_inv_banded.html">nnmnkwii.util.linalg.cholesky_inv_banded</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">nnmnkwii</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../functions.html">Functions</a> &raquo;</li>
        
      <li>nnmnkwii.functions.mlpg</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/references/generated/nnmnkwii.functions.mlpg.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="nnmnkwii-functions-mlpg">
<h1>nnmnkwii.functions.mlpg<a class="headerlink" href="#nnmnkwii-functions-mlpg" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="nnmnkwii.functions.mlpg">
<code class="descclassname">nnmnkwii.functions.</code><code class="descname">mlpg</code><span class="sig-paren">(</span><em>mean_frames</em>, <em>variance_frames</em>, <em>windows</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nnmnkwii/functions/_impl/mlpg.html#mlpg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nnmnkwii.functions.mlpg" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum Parameter Likelihood Generation (MLPG)</p>
<p>Function <code class="docutils literal"><span class="pre">f:</span> <span class="pre">(T,</span> <span class="pre">D)</span> <span class="pre">-&gt;</span> <span class="pre">(T,</span> <span class="pre">static_dim)</span></code>.</p>
<p>It peforms Maximum Likelihood Parameter Generation (MLPG) algorithm
to generate static features from static + dynamic features over
time frames dimension-by-dimension.</p>
<p>Let <span class="math">\(\mu\)</span> (<code class="docutils literal"><span class="pre">T</span> <span class="pre">x</span> <span class="pre">1</span></code>) is the input mean sequence of a particular
dimension and <span class="math">\(y\)</span> (<code class="docutils literal"><span class="pre">T</span> <span class="pre">x</span> <span class="pre">1</span></code>) is the static
feature sequence we want to compute, the formula of MLPG is written as:</p>
<div class="math">
\[y = A^{-1} b\]</div>
<p>where</p>
<div class="math">
\[A = \sum_{l} W_{l}^{T}P_{l}W_{l}\]</div>
<p>,</p>
<div class="math">
\[b = P\mu\]</div>
<p><span class="math">\(W_{l}\)</span> is the <code class="docutils literal"><span class="pre">l</span></code>-th window matrix (<code class="docutils literal"><span class="pre">T</span> <span class="pre">x</span> <span class="pre">T</span></code>) and <span class="math">\(P\)</span>
(<code class="docutils literal"><span class="pre">T</span> <span class="pre">x</span> <span class="pre">T</span></code>) is the precision matrix which is given by the inverse of
variance matrix.</p>
<p>The implementation was heavily inspired by <a class="reference internal" href="#r5" id="id1">[R5]</a> and
using <a class="reference external" href="https://github.com/MattShannon/bandmat">bandmat</a> for efficient computation.</p>
<table class="docutils citation" frame="void" id="r5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[R5]</a></td><td>M. Shannon, supervised by W. Byrne (2014),
Probabilistic acoustic modelling for parametric speech synthesis
PhD thesis, University of Cambridge, UK</td></tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mean_frames</strong> (<em>2darray</em>) – The input features (static + delta).
In statistical speech synthesis, these are means of gaussian
distributions predicted by neural networks or decision trees.</li>
<li><strong>variance_frames</strong> (<em>2d</em><em> or </em><em>1darray</em>) – Variances (static + delta ) of gaussian
distributions over time frames (2d) or global variances (1d).
If global variances are given, these will get expanded over frames.</li>
<li><strong>windows</strong> (<em>list</em>) – A sequence of <code class="docutils literal"><span class="pre">(l,</span> <span class="pre">u,</span> <span class="pre">win_coeff)</span></code> triples, where
<code class="docutils literal"><span class="pre">l</span></code> and <code class="docutils literal"><span class="pre">u</span></code> are non-negative integers specifying the left
and right extents of the window and <cite>win_coeff</cite> is an array
specifying the window coefficients.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Generated static features over time</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nnmnkwii</span> <span class="k">import</span> <span class="n">functions</span> <span class="k">as</span> <span class="n">F</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">windows</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">])),</span>            <span class="c1"># static</span>
<span class="gp">... </span>        <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])),</span> <span class="c1"># delta</span>
<span class="gp">... </span>        <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])),</span> <span class="c1"># delta-delta</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="p">,</span> <span class="n">static_dim</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">24</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mean_frames</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">static_dim</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">windows</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variance_frames</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">static_dim</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">windows</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">static_features</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">mlpg</span><span class="p">(</span><span class="n">mean_frames</span><span class="p">,</span> <span class="n">variance_frames</span><span class="p">,</span> <span class="n">windows</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">static_features</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">static_dim</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="nnmnkwii.autograd.mlpg.html#nnmnkwii.autograd.mlpg" title="nnmnkwii.autograd.mlpg"><code class="xref py py-func docutils literal"><span class="pre">nnmnkwii.autograd.mlpg()</span></code></a></p>
</div>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nnmnkwii.functions.mlpg_grad.html" class="btn btn-neutral float-right" title="nnmnkwii.functions.mlpg_grad" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nnmnkwii.functions.build_win_mats.html" class="btn btn-neutral" title="nnmnkwii.functions.build_win_mats" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Ryuichi Yamamoto.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.0.3.dev0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>